{% extends "base.html" %}

{% block content %}
<div class="notice-tabs">
    <a href="{{ url_for('workspace_select') }}" class="tab-item">워크스페이스 선택</a>
    <a href="{{ url_for('bot_setting') }}" class="tab-item active">Slack 봇 설정</a>
</div>
<div class="bot-setting-wrapper">
    <h1>Slack 봇 설정</h1>
    
    <div class="instruction-box">
        <h2>봇 설정 방법</h2>
        <ol>
            <li>
                <h3>1. Slack 워크스페이스 관리자 권한 확인</h3>
                <p>봇을 추가하기 위해서는 워크스페이스 관리자 권한이 필요합니다.</p>
            </li>
            
            <li>
                <h3>2. Slack App 생성하기</h3>
                <p>1) <a href="https://api.slack.com/apps" target="_blank">Slack API 페이지</a>에서 "Create New App" 클릭</p>
                <p>2) "From scratch" 선택</p>
                <p>3) App 이름 입력 및 워크스페이스 선택</p>
            </li>
            
            <li>
                <h3>3. Basic Information 설정</h3>
                <p>1) Display Information 섹션 설정:</p>
                <ul>
                    <li>App Name 설정:
                        <ul>
                            <li>예시: "[UpstageAILab] 운영관리"</li>
                        </ul>
                    </li>
                    <li>Short Description: "출결 및 공지사항 알림 봇"</li>
                    <li>App Icon: 과정별 로고 이미지 설정</li>
                    <li>Background Color: 취향별로 설정</li>
                </ul>
            </li>
            
            <li>
                <h3>4. Basic Information - Display Information 설정</h3>
                <p>1) App Display Name 섹션에서 Edit 클릭:</p>
                <ul>
                    <li> 예시:
                        <ul>
                            <li>Display Name (Bot Name): "AI-Notice-Bot"</li>
                            <li>Default username: "@ai_notice"</li>
                        </ul>
                    </li>
                </ul>
                <p>2) Short Description: "출결 및 공지사항 알림 봇"</p>
                <p>3) App Icon: 과정별 로고 이미지 설정</p>
                <p>4) Background Color: #2eb67d</p>
            </li>
            
            <li>
                <h3>5. 봇 권한 설정</h3>
                <p>1) 좌측 메뉴에서 "OAuth & Permissions" 선택</p>
                <p>2) "Bot Token Scopes"에서 다음 권한들을 추가:</p>
                <ul>
                    <li>chat:write</li>
                    <li>chat:write.public</li>
                    <li>incoming-webhook</li>
                </ul>
            </li>
            
            <li>
                <h3>6. 워크스페이스에 봇 설치</h3>
                <p>1) "Install to Workspace" 버튼 클릭</p>
                <p>2) 권한 승인</p>
            </li>
            
            <li>
                <h3>7. Webhook URL 설정</h3>
                <p>1) 좌측 메뉴에서 "Incoming Webhooks" 선택</p>
                <p>2) "Add New Webhook to Workspace" 클릭</p>
                <p>3) 메시지를 보낼 채널 선택 (3개의 채널 필요):</p>
                <p>4) 각 채널별로 생성된 Webhook URL 복사</p>
            </li>
        </ol>
        
        
    </div>
    
    <div class="warning-box">
        <h3>⚠️ 주의사항</h3>
        <ul>
            <li>Webhook URL은 외부에 노출되지 않도록 주의해주세요.</li>
            <li>각 채널별로 별도의 Webhook URL이 필요합니다.</li>
            <li>QR 이미지는 HRD-Net 출결 체크용 QR 코드여야 합니다.</li>
            <li>봇 설정에 문제가 있을 경우 관리자에게 문의해주세요.</li>
        </ul>
    </div>
</div>
{% endblock %}
